---
import { AnimationContainer } from '../components/animation'
import { SEO } from 'astro-seo'
import '../styles/global.css'

const { title, description, image } = Astro.props

const siteURL = 'https://caixeta.dev'
const fullURL = siteURL + Astro.url.pathname
const siteName = 'Rafael Caixeta'
const twitterHandle = '@caixetadev'

const isHome = Astro.url.pathname === '/'
const pageTitle = isHome
  ? 'Rafael Caixeta â€” Software Engineer | Go, React & Cloud'
  : `${title} | ${siteName}`
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap"
    />

    <meta name="author" content="Rafael Caixeta" />
    <meta
      name="keywords"
      content="Rafael Caixeta, caixetadev, caixeta dev, rafael caixeta developer, rafael caixeta software engineer, software engineer, Go developer, React developer, frontend engineer, backend developer, Golang, JavaScript, TypeScript, Next.js, Linux, open source, cloud infrastructure, AWS"
    />

    <SEO
      title={pageTitle}
      description={description}
      canonical={fullURL}
      openGraph={{
        basic: {
          title: pageTitle,
          type: isHome ? 'profile' : 'website',
          url: fullURL,
          image: siteURL + image,
        },
        optional: {
          siteName: siteName,
          locale: 'en_US',
        },
      }}
      twitter={{
        card: 'summary_large_image',
        title: pageTitle,
        description,
        image: siteURL + image,
        creator: twitterHandle,
        site: twitterHandle,
      }}
      extend={{
        link: [
          {
            rel: 'icon',
            type: 'image/png',
            sizes: '32x32',
            href: '/favicon-32x32.png',
          },
          {
            rel: 'icon',
            type: 'image/png',
            sizes: '196x196',
            href: '/android-chrome-196x196.png',
          },
          {
            rel: 'apple-touch-icon',
            sizes: '180x180',
            href: '/apple-touch-icon.png',
          },
          { rel: 'icon', href: '/favicon.svg', type: 'image/svg+xml' },
        ],
      }}
    />

    <link rel="sitemap" href="/sitemap-index.xml" />

    <slot name="head" />

    <noscript>
      <style>
        body * {
          opacity: 1 !important;
          transform: none !important;
        }
      </style>
    </noscript>
  </head>
  <body
    class="min-h-screen antialiased mx-auto max-w-2xl md:pt-10 p-4 md:p-0 bg-background text-foreground"
  >
    <AnimationContainer client:load>
      <main class="pb-5">
        <slot />
      </main>
    </AnimationContainer>
  </body>
</html>
